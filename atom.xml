<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jerry的日志</title>
  
  <subtitle>Passion, Insight</subtitle>
  <link href="https://jerrybai2022.github.io/atom.xml" rel="self"/>
  
  <link href="https://jerrybai2022.github.io/"/>
  <updated>2023-12-18T17:14:47.498Z</updated>
  <id>https://jerrybai2022.github.io/</id>
  
  <author>
    <name>Jerry Bai</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>基于prometheus client自定义监控指标</title>
    <link href="https://jerrybai2022.github.io/2023/12/19/%E5%9F%BA%E4%BA%8Eprometheus%20client%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E6%8C%87%E6%A0%87/"/>
    <id>https://jerrybai2022.github.io/2023/12/19/%E5%9F%BA%E4%BA%8Eprometheus%20client%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E6%8C%87%E6%A0%87/</id>
    <published>2023-12-18T17:13:49.000Z</published>
    <updated>2023-12-18T17:14:47.498Z</updated>
    
    <content type="html"><![CDATA[<h1 id="python-client"><a href="#python-client" class="headerlink" title="python client"></a>python client</h1><h2 id="简单demo"><a href="#简单demo" class="headerlink" title="简单demo"></a>简单demo</h2><p>Gauge和带label的Gauge</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random  </span><br><span class="line"><span class="keyword">import</span> time  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">from</span> prometheus_client <span class="keyword">import</span> Gauge, start_http_server  </span><br><span class="line">  </span><br><span class="line">SAMPLE_REQUEST_TIME = Gauge(<span class="string">&#x27;sample_request_time&#x27;</span>, <span class="string">&#x27;a sample metric for request time generated by random number&#x27;</span>)  </span><br><span class="line">SAMPLE_HOST_REQUEST_TIME = Gauge(<span class="string">&#x27;sample_host_request_time&#x27;</span>, <span class="string">&#x27;a sample metric for request time labeled by host&#x27;</span>, [<span class="string">&#x27;host&#x27;</span>])  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:  </span><br><span class="line">    start_http_server(<span class="number">8888</span>)  </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:  </span><br><span class="line">        SAMPLE_REQUEST_TIME.<span class="built_in">set</span>(random.randint(<span class="number">0</span>, <span class="number">100</span>))  </span><br><span class="line">        SAMPLE_HOST_REQUEST_TIME.labels(host=<span class="string">&#x27;sample_host&#x27;</span>).<span class="built_in">set</span>(random.randint(<span class="number">1</span>, <span class="number">10</span>))  </span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br></pre></td></tr></table></figure><p>指标采集效果<br><img src="https://picture-bed-1300530554.cos.ap-nanjing.myqcloud.com/pictures/20231219005822.png"></p><h1 id="golang-client"><a href="#golang-client" class="headerlink" title="golang client"></a>golang client</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;python-client&quot;&gt;&lt;a href=&quot;#python-client&quot; class=&quot;headerlink&quot; title=&quot;python client&quot;&gt;&lt;/a&gt;python client&lt;/h1&gt;&lt;h2 id=&quot;简单demo&quot;&gt;&lt;a href=&quot;#简单d</summary>
      
    
    
    
    <category term="监控Monitor" scheme="https://jerrybai2022.github.io/categories/%E7%9B%91%E6%8E%A7Monitor/"/>
    
    
    <category term="prometheus" scheme="https://jerrybai2022.github.io/tags/prometheus/"/>
    
    <category term="可观测性" scheme="https://jerrybai2022.github.io/tags/%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7/"/>
    
  </entry>
  
  <entry>
    <title>Raft学习资料</title>
    <link href="https://jerrybai2022.github.io/2023/07/08/Raft%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/"/>
    <id>https://jerrybai2022.github.io/2023/07/08/Raft%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/</id>
    <published>2023-07-08T15:44:22.000Z</published>
    <updated>2023-07-08T15:51:56.579Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Raft-Index"><a href="#Raft-Index" class="headerlink" title="Raft Index"></a>Raft Index</h1><p><a href="https://raft.github.io/">https://raft.github.io/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Raft-Index&quot;&gt;&lt;a href=&quot;#Raft-Index&quot; class=&quot;headerlink&quot; title=&quot;Raft Index&quot;&gt;&lt;/a&gt;Raft Index&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://raft.github.io/&quot;&gt;http</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>hexo多客户端备份测试</title>
    <link href="https://jerrybai2022.github.io/2023/05/01/hexo%E5%A4%9A%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%A4%87%E4%BB%BD%E6%B5%8B%E8%AF%95/"/>
    <id>https://jerrybai2022.github.io/2023/05/01/hexo%E5%A4%9A%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%A4%87%E4%BB%BD%E6%B5%8B%E8%AF%95/</id>
    <published>2023-05-01T15:22:06.000Z</published>
    <updated>2023-05-01T15:51:55.459Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hexo多客户端备份"><a href="#hexo多客户端备份" class="headerlink" title="hexo多客户端备份"></a>hexo多客户端备份</h1><p>hexo环境打包到github，新客户端执行以下步骤即可开始hexo文章编辑：</p><ol><li>git clone -b hexo <a href="mailto:&#103;&#105;&#x74;&#64;&#x78;&#120;&#x78;&#x2e;&#103;&#105;&#116;&#104;&#x75;&#98;&#x2e;&#x63;&#x6f;&#x6d;">&#103;&#105;&#x74;&#64;&#x78;&#120;&#x78;&#x2e;&#103;&#105;&#116;&#104;&#x75;&#98;&#x2e;&#x63;&#x6f;&#x6d;</a> hexo</li><li>安装环境包：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git</span><br></pre></td></tr></table></figure>注意这一步不需要执行<code>hexo init</code>，否则会重置远端部署信息</li><li>通过命令<code>hexo g</code>和<code>hexo s</code>在本地开启同步下来的静态博客页面</li><li>提交步骤<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;修改说明&quot;</span><br><span class="line">git push origin hexo</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;hexo多客户端备份&quot;&gt;&lt;a href=&quot;#hexo多客户端备份&quot; class=&quot;headerlink&quot; title=&quot;hexo多客户端备份&quot;&gt;&lt;/a&gt;hexo多客户端备份&lt;/h1&gt;&lt;p&gt;hexo环境打包到github，新客户端执行以下步骤即可开始hexo文章编辑</summary>
      
    
    
    
    <category term="环境配置" scheme="https://jerrybai2022.github.io/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
    
    
    <category term="配置" scheme="https://jerrybai2022.github.io/tags/%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>DB查询优化器</title>
    <link href="https://jerrybai2022.github.io/2023/04/22/DB%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E5%99%A8/"/>
    <id>https://jerrybai2022.github.io/2023/04/22/DB%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E5%99%A8/</id>
    <published>2023-04-22T12:13:49.000Z</published>
    <updated>2023-04-22T12:18:12.009Z</updated>
    
    <content type="html"><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><ul><li>Motivation</li></ul><p>查询优化器，是声明式查询语言和有效执行之间的桥梁。<br>由于optimizer存在，使声明式查询语言比指令式查询更好</p><ul><li>特点</li></ul><p>没有最优的plan，optimizer都是基于估计值来计算cost，可能会有退化的情况</p><ul><li>未来发展</li></ul><p>MySQL用了启发式查询优化器。<br>现状是自适应优化讨论的很火，但实际没有被认真对待落地。<br>预期自适应技术在查询优化领域的应用，会对大数据场景下查询性能带来较大提升</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;Motivation&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;查询优化器，是声明式查询语言和有效执行之间的桥梁。&lt;br&gt;由于optimize</summary>
      
    
    
    
    <category term="数据库" scheme="https://jerrybai2022.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="DB" scheme="https://jerrybai2022.github.io/tags/DB/"/>
    
    <category term="数据库" scheme="https://jerrybai2022.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
</feed>
